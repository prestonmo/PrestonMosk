{
  "hash": "7241e0b09979ed71be3896d51b92d247",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"midterm\"\nauthor: \"Preston Moskowitz\"\ndate: \"2025-10-01\"\noutput: html_document\n---\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Original wide-format data\nMidterm <- data.frame(\n  Year = c(\"2020\", \"2024\"),\n  BH = c(51.3, 48.3),\n  T  = c(46.9, 49.8),\n  O  = c(1.8, 1.9)\n)\n\n# Reshape to long format\nlibrary(tidyr)\nMidterm_long <- pivot_longer(Midterm, cols = c(BH, T, O), names_to = \"Variable\", values_to = \"Value\")\n\n# Split by year\nMidterm_2020 <- subset(Midterm_long, Year == \"2020\")\nMidterm_2024 <- subset(Midterm_long, Year == \"2024\")\n\n# Add percentage labels\nMidterm_2020$Label <- paste0(Midterm_2020$Value, \"%\")\nMidterm_2024$Label <- paste0(Midterm_2024$Value, \"%\")\n\n# Plot with offset labels to prevent overlap\nlibrary(ggplot2)\nggplot() +\n  geom_bar(data = Midterm_2020, aes(x = Variable, y = Value, fill = \"2020\"), \n           stat = \"identity\", position = \"identity\", alpha = 0.8) +\n  geom_text(data = Midterm_2020, aes(x = Variable, y = Value, label = Label), \n            position = position_nudge(x = -0.15, y = 0.5), \n            color = \"black\", size = 3.5) +\n  geom_bar(data = Midterm_2024, aes(x = Variable, y = Value, fill = \"2024\"), \n           stat = \"identity\", position = \"identity\", alpha = 0.4) +\n  geom_text(data = Midterm_2024, aes(x = Variable, y = Value, label = Label), \n            position = position_nudge(x = 0.15, y = -0.5), \n            color = \"black\", size = 3.5) +\n  scale_fill_manual(values = c(\"2020\" = \"#1f77b4\", \"2024\" = \"red\")) +\n  labs(title = \"Overlayed Bar Chart of BH, T, and O (2020 vs 2024)\",\n       x = \"Candidates\",\n       y = \"Percentage of Vote\",\n       fill = \"Year\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](midterm_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Original wide-format data this this this\nMidterm <- data.frame(\n  Year = c(\"2020\", \"2024\"),\n  BH = c(51.3, 48.3),\n  T  = c(46.9, 49.8),\n  O  = c(1.8, 1.9)\n)\n\n# Reshape to long format\nlibrary(tidyr)\nMidterm_long <- pivot_longer(Midterm, cols = c(BH, T, O), names_to = \"Variable\", values_to = \"Value\")\n\n# Rename variables\nMidterm_long$Variable <- recode(Midterm_long$Variable,\n                                BH = \"Democrat\",\n                                O  = \"Other\",\n                                T  = \"Republican\")\n\n# Set factor levels to control order\nMidterm_long$Variable <- factor(Midterm_long$Variable, levels = c(\"Democrat\", \"Other\", \"Republican\"))\n\n# Split by year\nMidterm_2020 <- subset(Midterm_long, Year == \"2020\")\nMidterm_2024 <- subset(Midterm_long, Year == \"2024\")\n\n# Add percentage labels\nMidterm_2020$Label <- paste0(Midterm_2020$Value, \"%\")\nMidterm_2024$Label <- paste0(Midterm_2024$Value, \"%\")\n\n# Plot with offset labels to prevent overlap\nlibrary(ggplot2)\nggplot() +\n  geom_bar(data = Midterm_2020, aes(x = Variable, y = Value, fill = \"2020\"), \n           stat = \"identity\", position = \"identity\", alpha = 0.8) +\n  geom_text(data = Midterm_2020, aes(x = Variable, y = Value, label = Label), \n            position = position_nudge(x = -0.15, y = 0.5), \n            color = \"black\", size = 3.5) +\n  geom_bar(data = Midterm_2024, aes(x = Variable, y = Value, fill = \"2024\"), \n           stat = \"identity\", position = \"identity\", alpha = 0.4) +\n  geom_text(data = Midterm_2024, aes(x = Variable, y = Value, label = Label), \n            position = position_nudge(x = 0.15, y = -0.5), \n            color = \"black\", size = 3.5) +\n  scale_fill_manual(values = c(\"2020\" = \"#1f77c1\", \"2024\" = \"#FF0000\")) +\n  labs(title = \"Diffence In Election Outcomes From 2020 To 2024\",\n       x = \"Candidates\",\n       y = \"Percentage of Vote\",\n       fill = \"Year\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](midterm_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMidterm <- data.frame(\n  Year = c(\"2020\", \"2024\"),\n  BH = c(51.3, 48.3),\n  T  = c(46.9, 49.8),\n  O  = c(1.8, 1.9)\n)\n\n\nMidterm_long <- pivot_longer(Midterm, cols = c(BH, T, O), names_to = \"Variable\", values_to = \"Value\")\n\nMidterm_2020 <- subset(Midterm_long, Year == \"2020\")\nMidterm_2024 <- subset(Midterm_long, Year == \"2024\")\n\n\nggplot() +\n  geom_bar(data = Midterm_2020, aes(x = Variable, y = Value, fill = \"2020\"), \n           stat = \"identity\", position = \"identity\", alpha = 0.8) +\n  geom_bar(data = Midterm_2024, aes(x = Variable, y = Value, fill = \"2024\"), \n           stat = \"identity\", position = \"identity\", alpha = 0.4) +\n  scale_fill_manual(values = c(\"2020\" = \"#1f77b4\", \"2024\" = \"red\")) +\n  labs(title = \"Overlayed Bar Chart of BH, T, and O (2020 vs 2024)\",\n       x = \"Variable\",\n       y = \"Value\",\n       fill = \"Year\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](midterm_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Original wide-format data\nMidterm <- data.frame(\n  Year = c(\"2020\", \"2024\"),\n  BH = c(51.3, 48.3),\n  T  = c(46.9, 49.8),\n  O  = c(1.8, 1.9)\n)\n\n# Reshape to long format\nlibrary(tidyr)\nMidterm_long <- pivot_longer(Midterm, cols = c(BH, T, O), names_to = \"Variable\", values_to = \"Value\")\n\n# Rename variables\nMidterm_long$Variable <- recode(Midterm_long$Variable,\n                                BH = \"Democrat\",\n                                O  = \"Other\",\n                                T  = \"Republican\")\n\n# Set factor levels to control order\nMidterm_long$Variable <- factor(Midterm_long$Variable, levels = c(\"Democrat\", \"Other\", \"Republican\"))\n\n# Split by year\nMidterm_2020 <- subset(Midterm_long, Year == \"2020\")\nMidterm_2024 <- subset(Midterm_long, Year == \"2024\")\n\n# Add percentage labels\nMidterm_2020$Label <- paste0(Midterm_2020$Value, \"%\")\nMidterm_2024$Label <- paste0(Midterm_2024$Value, \"%\")\n\n# Plot with offset labels and extended y-axis\nlibrary(ggplot2)\nggplot() +\n  geom_bar(data = Midterm_2020, aes(x = Variable, y = Value, fill = \"2020\"), \n           stat = \"identity\", position = \"identity\", alpha = 0.8) +\n  geom_text(data = Midterm_2020, aes(x = Variable, y = Value, label = Label), \n            position = position_nudge(x = -0.15, y = 0.5), \n            color = \"black\", size = 3.5) +\n  geom_bar(data = Midterm_2024, aes(x = Variable, y = Value, fill = \"2024\"), \n           stat = \"identity\", position = \"identity\", alpha = 0.4) +\n  geom_text(data = Midterm_2024, aes(x = Variable, y = Value, label = Label), \n            position = position_nudge(x = 0.15, y = -0.5), \n            color = \"black\", size = 3.5) +\n  scale_fill_manual(values = c(\"2020\" = \"#1f77c1\", \"2024\" = \"#FF0000\")) +\n  labs(title = \"Difference In Election Outcomes From 2020 To 2024\",\n       x = \"Candidates\",\n       y = \"Percentage of Vote\",\n       fill = \"Year\") +\n  coord_cartesian(ylim = c(0, 100)) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](midterm_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\n\n```\n\n",
    "supporting": [
      "midterm_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}