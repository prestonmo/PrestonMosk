"0","# Original wide-format data this this this"
"0","Midterm <- data.frame("
"0","  Year = c(""2020"", ""2024""),"
"0","  BH = c(51.3, 48.3),"
"0","  T  = c(46.9, 49.8),"
"0","  O  = c(1.8, 1.9)"
"0",")"
"0",""
"0","# Reshape to long format"
"0","library(tidyr)"
"0","Midterm_long <- pivot_longer(Midterm, cols = c(BH, T, O), names_to = ""Variable"", values_to = ""Value"")"
"0",""
"0","# Rename variables"
"0","Midterm_long$Variable <- recode(Midterm_long$Variable,"
"0","                                BH = ""Democrat"","
"0","                                O  = ""Other"","
"0","                                T  = ""Republican"")"
"0",""
"0","# Set factor levels to control order"
"0","Midterm_long$Variable <- factor(Midterm_long$Variable, levels = c(""Democrat"", ""Other"", ""Republican""))"
"0",""
"0","# Split by year"
"0","Midterm_2020 <- subset(Midterm_long, Year == ""2020"")"
"0","Midterm_2024 <- subset(Midterm_long, Year == ""2024"")"
"0",""
"0","# Add percentage labels"
"0","Midterm_2020$Label <- paste0(Midterm_2020$Value, ""%"")"
"0","Midterm_2024$Label <- paste0(Midterm_2024$Value, ""%"")"
"0",""
"0","# Plot with offset labels to prevent overlap"
"0","library(ggplot2)"
"0","ggplot() +"
"0","  geom_bar(data = Midterm_2020, aes(x = Variable, y = Value, fill = ""2020""), "
"0","           stat = ""identity"", position = ""identity"", alpha = 0.8) +"
"0","  geom_text(data = Midterm_2020, aes(x = Variable, y = Value, label = Label), "
"0","            position = position_nudge(x = -0.15, y = 0.5), "
"0","            color = ""black"", size = 3.5) +"
"0","  geom_bar(data = Midterm_2024, aes(x = Variable, y = Value, fill = ""2024""), "
"0","           stat = ""identity"", position = ""identity"", alpha = 0.4) +"
"0","  geom_text(data = Midterm_2024, aes(x = Variable, y = Value, label = Label), "
"0","            position = position_nudge(x = 0.15, y = -0.5), "
"0","            color = ""black"", size = 3.5) +"
"0","  scale_fill_manual(values = c(""2020"" = ""#1f77c1"", ""2024"" = ""#FF0000"")) +"
"0","  labs(title = ""Diffence In Election Outcomes From 2020 To 2024"","
"0","       x = ""Candidates"","
"0","       y = ""Percentage of Vote"","
"0","       fill = ""Year"") +"
"0","  theme_minimal()"
